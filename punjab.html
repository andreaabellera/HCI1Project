<!DOCTYPE html>
<html>

	<head>
        <meta charset="utf-8">
        <title>I'm Hungry | Punjab Food Corner</title>
        <link type="text/css" rel="stylesheet" href="restaurant.css"> <!--ToDO: create seperate CSS for modal-->
       <!-- <script src="replaceLater.js"> </script>-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
	
	<body>
	<article>
	
		<header class="container"> 
			<div class="logo">
				<img src="res/Logo/logowhite.png" alt="hungry logo" height=45% width=45%>
			</div>
			
			<div class="name">
				<h1> PUNJAB FOOD CORNER </h1>
			</div>
			
			<div class="accountBar">
				<i class="material-icons">account_circle</i>Account
			</div>
			<script>
				//TODO: accountbar information
				/*
					1. dropdown on hover
					2. static email element
					3. static address
					4. settings or edit -- reacts to mouse hover but doesnt link anywhere
					5. Log out -- links to index.html
				 */
			</script>
		</header>
		
		
		
		<div class="content">
		<div class="box res-track">
			<div id="tracker-title"><b>Restaurant Tracker</b></div>
			<!---OPTION 1: HEADERS ARE LINKS-->
			<a href="#snacks">
				<h3 class="tracker">Snacks</h3>
			</a>
			<a href ="#burgers">
				<h3 class="tracker">Burgers</h3>
			</a>
			<a href="#breads">
				<h3 class="tracker">Bread</h3>
			</a>
			<a href = "#sweets">
				<h3 class="tracker">Sweets</h3>
			</a>
			<!--OPTION 2: HEADERS HAVE LINKS
			<h3 class="tracker">Snacks-
				<a href = "#snacks">Go</a>
			</h3>
			<h3 class="tracker">Burgers</h3>
			<h3 class="tracker">Bread</h3>
			<h3 class="tracker">Sweets</h3>
			--->
		
			<button class="back"> <a href="javascript:history.back()"> Back to Restaurants </a></button>
		</div>
		<script>
			//TODO: link restaurant tracker items to the menu classes
		</script>
		
		<div class="center">
		
		<div class="box">
			<div id = "exclusion-tags">
				<b><span style="margin-right:2%;">Exclude</span></b>
				<!----TODO: might have to refactor this to be a class structure-->
					<input type="checkbox" name ="allergy-option" id="no_meat" onclick="exclusionTags()">meat
					<input type="checkbox" name ="allergy-option" id="no_cooler" onclick="exclusionTags()">cooler meat
					<input type="checkbox" name ="allergy-option" id="no_gluten" onclick="exclusionTags()">gluten
			</div>

			<!---JS for Exclusion Tags-->
			<script>
				function exclusionTags() {
					var tags = ['no_meat', 'no_cooler', 'no_gluten'];
					var gallery = document.getElementsByClassName("gallery");
					var items = document.getElementsByClassName("gallery-info");
					var fDev = document.getElementsByClassName("filterDev");
					for (let i = 0; i < items.length; i++) {
						var flag = true;
						//loop through all the possible elements to check
						for (let j = 0; j < tags.length; j++) {
							//loop through all the possible tags
							if ((fDev[i].className.indexOf(tags[j]) == -1) && document.getElementById(tags[j]).checked) {
								//if the current element does not have the tag and, the tag's box is checked
								//i.e. the element doesn't have the 'gluten' tag, but the gluten exclusion box is checked
								flag = false;
								//it must be removed
								//items[i].style.display = 'none';
								gallery[i].style.display='none';
								break;
							}
							//otherwise do nothing
							//continue the loop until all tags are checked
							//or until the element is removed
						}
						if (flag) {
							items[i].style.display = 'block';
							gallery[i].style.display='grid';
						}
					}
				}
			</script>

			<div class = "box main">
				<button type="button" class="collapsible" id = "snacks">Snacks</button>
				<div class="items">
				
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/samosa.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;" ></div>
						<div class = "filterDev no_meat no_cooler" id = "tag">samosa></div>
						<div class="gallery-info" id = "samosa">
							<h3> Samosa </h3>
							<p> Crispy turnovers filled with spiced potatoes and peas.  Price : $1.25 </p>
						</div>
					</div>

					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/golgappa.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">golgappa</div>
						<div class="gallery-info" id = "golgappa">
							<h3> Golgappa (7 pcs)</h3>
							<p> Round hollow puri fried and filled with a mixture of flavoured 
							water, tamarind chutney, chilly, chat masala, potatoes, and onions. Price : $6.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/tikki-chaat.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">tikki</div>
						<div class="gallery-info" id = "tikki">
							<h3> Tikki Chaat </h3>
							<p> Two potato patties smothered with chickpeas curry garnished with diced onions, and 
							sliced carrots drizzled with tamarind sauce and mint chutney. Price : $6.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/fried-rice.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler no_gluten">fried_rice</div>
						<div class="gallery-info" id = "fried_rice">
							<h3> Fried Rice </h3>
							<p> Basmati rice cooked with mixed vegetables. Price : $8.99 </p>
						</div>
					</div>
				
				
				</div>
				
				<button type="button" class="collapsible" id = 'burgers'>Burgers</button>
				<div class="items">
				
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/vegetable-burger.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">v_burger</div>
						<div class="gallery-info" id = "v_burger">
							<h3> Vegetable Burger </h3>
							<p> Fried potato patty in a bun with lettuce, onion, tomato, and housemade sauces. Price : $6.99 </p>
						</div>
					</div>
				
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/noodle-burger.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">n_burger</div>
						<div class="gallery-info" id = "n_burger">
							<h3> Noodle Burger </h3>
							<p> Indian style fried potato patty in a bun with noodles, lettuce, onion, tomato, and housemade sauces. Price : $6.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/chicken-burger.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_cooler">c_burger</div>
						<div class="gallery-info" id = "c_burger">
							<h3> Chicken Burger </h3>
							<p> Fried chicken patty in a bun with lettuce, onion, and house made sauces. Price : $6.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/butter-chicken-burger.webp'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_cooler">bc_burger</div>
						<div class="gallery-info" id = "bc_burger">
							<h3> Butter Chicken Burger </h3>
							<p> Price : $7.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/veggie-burger-fries-drink.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">v_burger_combo</div>
						<div class="gallery-info" id = "v_burger_combo">
							<h3> Vegetable Burger with Fries and Drink </h3>
							<p> Price : $8.99 </p>
						</div>
					</div>
					
					
				
				</div>
				
				<button type="button" class="collapsible" id = 'breads'>Breads</button>
				<div class="items">
				
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/tawa-roti.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">tawa</div>
						<div class="gallery-info" id = "tawa">
							<h3> Tawa Roti </h3>
							<p> Price : $0.90 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/tandoori-roti.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">tandoori</div>
						<div class="gallery-info" id = "tandoori">
							<h3> Tandoori Roti </h3>
							<p> Price : $1.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/coriander-naan.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">c_naan</div>
						<div class="gallery-info" id = "c_naan">
							<h3> Coriander Naan </h3>
							<p> Price : $2.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/butter-naan.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">b_naan</div>
						<div class="gallery-info" id = "b_naan">
							<h3> Butter Naan </h3>
							<p> Price : $2.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/garlic-naan.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">g_naan</div>
						<div class="gallery-info" id = "g_naan">
							<h3> Garlic Naan </h3>
							<p> Leavened flour flatbread with a hint of garlic to accentuate the taste of any dish. Price : $2.99 </p>
						</div>
					</div>
				
				</div>
				
				<button type="button" class="collapsible" id ='sweets'>Sweets</button>
				<div class="items">
				
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/gulaab-jamun.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">regP_gulab</div>
						<div class="gallery-info" id = "regP_gulaab">
							<h3> Gulaab Jamun (2 pcs) (Per Piece) </h3>
							<p> Soft, spongy, and melt in your mouth milk balls drenched in syrup. One order comes with two pieces. Price : $2.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/gulaab-jamun-coconut.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">cocoP_gulab</div>
						<div class="gallery-info" id = "cocoP_gulaab">
							<h3> Gulaab Jamun with Layered Coconut (Per Piece) </h3>
							<p> Soft, spongy, and melt in your mouth milk balls drenched in syrup. Price : $1.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/gulaab-jamun.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">regLB_gulab</div>
						<div class="gallery-info" id = "regLB_gulaab">
							<h3> Gulaab Jamun (1 lb) </h3>
							<p> Soft, spongy, and melt in your mouth milk balls drenched in syrup. One order comes with one pound. Price : $10.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/gulaab-jamun-coconut.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">cocoLB_gulab</div>
						<div class="gallery-info" id = "cocoLB_gulaab">
							<h3> Gulaab Jamun with Layered Coconut (1 lb) </h3>
							<p> Soft, spongy, and melt in your mouth milk balls drenched in syrup. One order comes with one pound. Price : $12.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/milk-cake.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler no_gluten">pMilkCake</div>
						<div class="gallery-info" id = "pMilkCake">
							<h3> Milk Cake (Per Piece) </h3>
							<p> Price : $2.49 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/milk-cake.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler no_gluten">LBMilkCake</div>
						<div class="gallery-info" id ="LBMilkCake">
							<h3> Milk Cake (1 lb)  </h3>
							<p> One order comes with one pound. Price : $14.99 </p>
						</div>
					</div>
					
					<div class="gallery">
						<div class="gallery-image" style="background-image: url('res/Food/rasmalai.jpg'); background-size: cover; background-repeat:none; border-radius: 1em;"></div>
						<div class = "filterDev no_meat no_cooler">rasmalai</div>
						<div class="gallery-info" id = "rasmalai">
							<h3> Rasmalai (3 pcs)</h3>
							<p> Made with spongy cottage cheese balls dunked into an aromatic milk syrup. One order comes with three pieces. Price : $5.99 </p>
						</div>
					</div>
				
				</div>
			</div>
		</div>
		
		</div>

		<div class ="box order">
				<div id="order-title">
					<b>Order Details</b>
				</div> <br>
				
			<div id="order-grid">
				<div class="receipt">
					Cheese Pizza <span class="qty">(x1)</span> <span class="price">$5</span><br>
					Sprite <span class="qty">(x1)</span> <span class="price">$5</span><br>
				</div>
					
				<hr>
					
                <div class="total">
					<b>Total</b> <span style="float: right;">$10</span> 
				</div>
			
				<section>
					<button id="checkout"><a href="payment.html" id="checkout">Checkout</a></button><br>
				</section>
			</div>
		</div>
		</div>
		<footer class="container">
				<div class="copyright">COMP3020, <b>Group 45</b> © 2020</div> 
				<nav>
					<ul>
						<li><a href="privacypolicy.html">Privacy Policy</a></li>
						<li><a href="terms.html">Terms and Conditions</a></li>
						<li><a href="contact.html">Contact us</a></li>
					</ul>
				</nav>
		</footer>

		<!--Modal Stuff-->
		<div id="myModal" class="lightbox">
			<!--Modal Content-->
			<div class="modal-content">
				<div class="top-bar">
					<span class="close">&times;</span>
					<span class=info><i class="material-icons"> info </i></span>
				</div>
				<div class="modal-left-interface">
					<img class = "modal-image" id = "myImg" src="">
					<h1 class="modal-title" id="food-title"> Samosa </h1>
					<button class="qty-arrow" id="decrease"> < </button>
					<span id="qty"> 1 </span>
					<button class="qty-arrow" id="increase"> > </button>
				</div>
				<div class="modal-right-interface">
					<div class="options">
						<h1 class="modal-title"> Options </h1>
						<input type="checkbox" name="option" id="calorie-free"> Calorie-free <br>
						<input type="checkbox" name="option" id="sodium-free"> Sodium-free <br>
						<input type="checkbox" name="option" id="dairy-free"> Dairy-free
					</div>
					<div class="additional">
						<h1 class="modal-title"> Additional Instructions </h1>
						<form>
							<textarea rows="5" cols="80" name="additional-input" placeholder="Specify ingredients to add or omit, food handling, packaging"></textarea>
						</form>
					</div>
				</div>
				<div class="add-to-order">
					ADD TO ORDER: <span id="cost"> $1.99 </span>
				</div>
			</div>
		</div>

		<script>
			var modal = document.getElementById("myModal");
			//get modal image
			//var img = document.getElementById("theImg");

			var images = document.querySelectorAll(".gallery-image");
			var img, aImg=[];
			for( var i=0; i < images.length;i++){
				img=window.getComputedStyle(images[i]).backgroundImage;
				//alert(img);
				//aImg.push('"'+img.substr(33,img.indexOf(")")-1));
				//get index of res
				//var index = img.search(/\b(\b/);
				//aImg.push(img.substring(img.indexOf("(")+1,img.indexOf(")")));
				var temp = img.split("/");
				aImg[i] = temp[temp.length-1].substr(0,temp[temp.length-1].length-2);

			}
			//alert(aImg);
			var span = document.getElementsByClassName("close")[0];
			var open = document.getElementsByClassName("gallery-info"); //get span element that closes modal --might change
			var modalImg = document.getElementById("myImg");
			//when btn clicked, open modal
			var saveIndex;
			for (let j = 0; j < open.length; j++) {
				open[j].addEventListener("click", function () {
					modal.style.display = "block";
					//alert(aImg[0]);
					modalImg.src = "res/Food/" + aImg[j];
					//alert(modalImg.src);
				}, false);
			}
			//}
			//When user clicks on <span X, close the modal --> replace with add order btn
			span.onclick = function(){
				modal.style.display="none";
			}
			//If anywhere outside of modal, close t
			window.onclick = function(event){
				if(event.target == modal)
					modal.style.display="none";
			}
		</script>

	</article>
</body>

</html>
